<%- include('./layout/header'); %>

<div class="container">
    <div class="row my-4">
      <div class="col-lg-12">
              <!-- <% if (message) { %>
          <div class="alert alert-dismissible fade show alert-<%= message.type %>"
            role="alert">
            <button class="btn-close" type="button" data-bs-dismiss="alert" aria-label="Close"></button>
            <strong><%= message.message %></strong>
          </div>
        <% } %> -->
        <div class="table-responsive">
          <% if (contacts != '') { %>
            <table class="table table-striped text-center">
              <thead>
                <tr class ="table-dark">
                  <th scope="col">Surname</th>
                  <th scope="col">Firstname</th>
                  <th scope="col">Email</th>
                  <th scope="col">No. Clients</th>
                  <th scope="col">Action </th>
                </tr>
              </thead>
              <tbody>
                <% contacts.forEach(row => { %>
                  <tr class="align-middle">
                    <td><%= row.surname %></td>
                    <td><%= row.firstname %></td>
                    <td><%= row.email %></td>
                    <td><%= row.clients.length %></td>
                    <td>
                      <a href="" class="text-success"><i class="fas fa-solid fa-user-pen"></i></a>
                      <a href="" class="text-danger"><i class="fas fa-trash fa-lg mx-1"></i></a>
                    </td>
                  </tr>
                <% }) %>
              </tbody>
            </table>
          <% } else { %>
            <h1 class="text-center text secondary mt-5">No contacts found in the database</h1>
          <% } %>
        </div>
      </div>
    </div>
  </div>

<%- include('./layout/footer'); %>